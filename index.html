<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="icon" type="image/x-icon" href="/favicon.png" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <title>SF Poker League</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>SF Poker League</h1>
        </header>
        <div style="text-align:center"><h1>♠♥♦♣</h1></div>

        <section id="leaders" >          
          <p><strong><span style="color: #303030; font-size: 16px">Standings</span></strong> <em>(top 10 make playoffs)</em></p>
          <script>
            var results = 
                [
                    {"Chris Burkhart": 30, "Romy Mancini": 80, "Brett Suwyn": 140, "Gregarious Narain": 265, "Charlie Ansanelli": 265},
                    {"Jim Greer": 40, "Justin Bailey": 70, "Sam Wyman": 130, "Scott Waugaman": 190, "David Selle": 290},
                    {"Romy Mancini": 30, "Aaron Wasserman": 50, "Unni Narayanan": 90, "Sam Wyman": 185, "Jim Greer": 185},
                ]
            ;

            var affilliations = {
              "Aaron Wasserman": "Blackboard Mobile",
              "Brett Suwyn": "Chute",
              "Charlie Ansanelli": "Treasure Island Flea",
              "Chris Burkhart": "Chute",
              "David Selle": "Nukotoys",
              "Gregarious Narain": "Chute",
              "Jim Greer": "Kongregate",
              "Justin Bailey": "Double Fine",
              "Sam Wyman": "Blackboard Mobile",
              "Scott Waugaman": "Capcom",
              "Unni Narayanan": "Mind Pirate",
            };

            // add up all cashes for each player
            totals = {};
            for(var i=0; i<results.length; i++) {
              tournament = results[i];
              
              for(var player in tournament) {
                  var points = totals[player] || 0;
                  points += tournament[player];
                  totals[player] = points;
              }
            }

            // sort players (need to convert from object to array)
            var sorted =[];
            for(var player in totals) {
              sorted.push([player, totals[player]]);
            }    
            sorted = sorted.sort(function(a, b) {return b[1] - a[1]})

            document.write("<ol>");
            for(var i=0; i<sorted.length; i++) {
              place = sorted[i];
              player = place[0];
              points = place[1];
              affiliation = affilliations[player];

              var style = "";

              // use lighter color for players below the cut
              if(i >= 10) {
                style = " style=\"color: #aaaaaa\"";
              }

              document.write("<li" + style + ">");
              document.write(player);
              if (affiliation) {
                document.write(" (" + affiliation + ")");
              }

              document.write(" - " + points + " pts");
              document.write("</li>");
            }
            document.write("</ol>")
          </script>
        </section>

        <div style="text-align:center"><h1>♠♥♦♣</h1></div>

        <section id="main_content">
          <p>A poker league for game developers and techies in San Francisco (inspired by the Silicon Valley Poker League). Members only - if you'd like to come, <a href="https://groups.google.com/forum/#!forum/sf-poker-league">request to join our Google group</a> and tell us about yourself. Each member is allowed to bring one guest, if the member is present.</p>

          <ul>
            <li>Weekly tournaments on Mondays</li>
            <li>Food and drinks at 6:30pm </li>
            <li>Cards in the air at 7pm</li>
            <li>Finish game by 11pm sharp</li>
            <li>Games are played at <a href="http://www.kongregate.com">Kongregate</a> HQ, at <a href="https://maps.google.com/maps?q=2+Shaw+Alley,+San+Francisco,+CA">2 Shaw Alley</a> in downtown San Francisco.</li>
            <li>$60 buy-in plus 1 re-buy or add-on in the first hour</li>
            <li>$60 = starting stack of chips worth $1000</li>
            <li>Blinds start at $5 and $10, going up every 15 minutes</li>
            <li>The number of cashes and amount depends on number of players and rebuys.</li>
            <li>Each player agrees in advance to donate 33% of their winnings to the prize pool (rounded to the nearest $20) and they get 1 point per $1 contributed.</li>
          </ul>
          <hr>
            <h4>Prizes</h4>
            <ul>
            <li><strong>Entry to a $1,500 WSOP side event + $400 travel subsidy</strong></li>
            <li>Top 10 players in the regular season will play in a playoff tournament on May 27th to determine who will go the WSOP - we're currently on pace to send 3. The starting chips for each of the players will be their season points times 10. In the case of a tie for 10th, we will choose one of the tied players randomly.</li>
            <li>If one of our champions cashes, they keep 20% off the top and the other 80% is paid out accordingly to the points earned during the regular season (including their points). E.g. if the champ had 50% of the season points, they would keep 20% + (50% * 80%) = 60%</li>
          </ul>
          <div style="text-align:center"><h1>♠♥♦♣</h1></div>

        </section>
        <script type="text/javascript">
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
        </script>
        <script type="text/javascript">
        try {
          var pageTracker = _gat._getTracker("UA-39176741-1");
          pageTracker._trackPageview();
        } catch(err) {}
        </script>

      </div>
    </div>
  </body>
</html>
